{layout name="/common"}
<table id="table" lay-filter="table"></table>

<script>
    table.render({
        elem: '#table',
        url : '/player/index/spread',
        cellMinWidth : 95,
        page : true,
        height : "full",
        limit : 20,
        limits : [10,20,30,50],
        id : "tableins",
        cols : [[
            {type: "checkbox", fixed:"left", width:50},
            {field: 'id', title: 'ID', align:"center"},
            {field: 'child_name', title: '用户'},
            {field: 'parent_name', title: '邀请人'},
            {field: 'player_fee', title: '手续费'},
            {field: 'player_type', title: '活动状态', align:'center', templet:function(d){
                if (d.player_type == 0) {
                    return '<span class="layui-red">未参与活动</span>';
                } else {
                    return '<span class="layui-green">参与活动</span>';
                }
            }},
            {field: 'create_time', title: '创建时间', align:'center'},
            {field: 'update_time', title: '更新时间', align:'center'}
        ]]
    });

    //搜索
    $(".search_btn").on("click",function(){
        table.reload("tableins",{
            page: {
                curr: 1
            },
            where: {
                keyword: $(".searchVal").val()
            }
        })
    });
</script>