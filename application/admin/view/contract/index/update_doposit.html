<form action="/admin/contract.index/updateDoposit" class="layui-form dialog">
    <div class="layui-form-item">
        <label class="layui-form-label">保证金类型</label>
        <div class="layui-input-block">
            <input type="radio" name="deposit_type" value="1" title="百分比" lay-filter="deposit_type" {if $market.deposit_type == 1}checked{/if}>
            <input type="radio" name="deposit_type" value="2" title="固定" lay-filter="deposit_type" {if $market.deposit_type == 2}checked{/if}>
        </div>
    </div>

    <div class="layui-form-item deposit_type_1">
        <label class="layui-form-label">保证金比率</label>
        <div class="layui-input-block">
            <input class="layui-input" name="deposit_rate" value="{$market.deposit_rate}">
        </div>
    </div>

    <div class="layui-form-item deposit_type_2" style="display: none">
        <label class="layui-form-label">保证金金额</label>
        <div class="layui-input-block">
            <input class="layui-input" name="deposit" value="{$market.deposit}">
        </div>
    </div>

    <input type="hidden" name="c_id" value="{$market.c_id}">
</form>

<script>
    form.on('radio(deposit_type)', function(data){
        if (data.value == 1) {
            $('.deposit_type_1').show();
            $('.deposit_type_2').hide();
        } else {
            $('.deposit_type_1').hide();
            $('.deposit_type_2').show();
        }
    });
</script>